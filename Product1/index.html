<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>PicDrop ‚Ä¢ Product 1</title>

  <!-- =========================
       SINGLE-FILE CSS
       ========================= -->
  <style>
    :root{
      --auburn-blue:#0C2340;
      --auburn-orange:#E87722;

      --bg:#0b1220;
      --bg2:#0a1020;

      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.04);

      --text:#e9eefc;
      --muted:#b9c3dd;

      --border: rgba(255,255,255,.12);
      --border2: rgba(255,255,255,.16);

      --shadow: 0 18px 46px rgba(0,0,0,.35);
      --shadow2: 0 10px 28px rgba(0,0,0,.32);

      --radius-xl:22px;
      --radius-lg:18px;
      --radius-md:14px;

      --tap: 52px;

      --safe-bottom: env(safe-area-inset-bottom, 0px);
      --safe-top: env(safe-area-inset-top, 0px);

      --maxw: 1060px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 700px at 12% 8%, rgba(232,119,34,.18), transparent 58%),
        radial-gradient(900px 600px at 90% 16%, rgba(12,35,64,.55), transparent 56%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      color: var(--text);
    }

    .container{
      max-width: var(--maxw);
      margin:0 auto;
      padding: calc(14px + var(--safe-top)) 14px calc(120px + var(--safe-bottom));
    }

    .topbar{
      position: sticky;
      top: 0;
      z-index: 20;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 12px 0;
      background: linear-gradient(180deg, rgba(11,18,32,.82), rgba(11,18,32,.35));
      backdrop-filter: blur(12px);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width: 0;
    }

    .mark{
      width:42px;height:42px;
      display:grid;place-items:center;
      border-radius: 16px;
      border: 2px solid var(--auburn-orange);
      background: linear-gradient(135deg, rgba(232,119,34,.22), rgba(12,35,64,.55));
      box-shadow: var(--shadow2);
      font-weight: 950;
      letter-spacing: .5px;
      flex: 0 0 auto;
    }

    .titleBlock{ min-width:0; }
    .title{
      font-weight: 950;
      font-size: 15px;
      line-height: 1.15;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .subtitle{
      margin-top: 4px;
      font-size: 13px;
      color: var(--muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .meta{
      display:flex;
      align-items:center;
      gap:10px;
      flex: 0 0 auto;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      height: 30px;
      padding: 0 10px;
      border-radius: 999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-size: 12px;
      font-weight: 900;
    }
    .pill--accent{
      background: rgba(232,119,34,.18);
      border-color: rgba(232,119,34,.40);
      color: var(--text);
    }

    .card{
      background: linear-gradient(180deg, var(--card), var(--card2));
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      padding: 16px;
    }

    .hero h1{
      margin: 6px 0 8px;
      font-size: 28px;
      letter-spacing: -0.25px;
    }
    .hero p{
      margin: 0 0 14px;
      color: var(--muted);
      line-height: 1.5;
    }

    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 10px;
    }

    .btn{
      min-height: var(--tap);
      padding: 12px 14px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: rgba(255,255,255,.08);
      color: var(--text);
      font-weight: 950;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      user-select:none;
    }
    .btn:active{ transform: translateY(1px); }

    .btnPrimary{
      border: none;
      color:#0a1020;
      background: linear-gradient(135deg, var(--auburn-orange), rgba(232,119,34,.75));
    }
    .btnSecondary{
      border: 1px solid rgba(232,119,34,.35);
      background: linear-gradient(135deg, rgba(12,35,64,.85), rgba(12,35,64,.55));
    }
    .btnGhost{
      background: rgba(255,255,255,.06);
    }

    hr.sep{
      border:none;
      border-top:1px solid rgba(255,255,255,.10);
      margin:14px 0;
    }

    .grid{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 14px;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }

    .notes{
      margin: 10px 0 0 18px;
      color: var(--muted);
      padding: 0;
    }
    .notes li{ margin-bottom: 8px; }

    .statusLine{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
      word-break: break-word;
    }
    code.k{
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.10);
      padding: 2px 6px;
      border-radius: 10px;
      color: var(--text);
      font-weight: 900;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
    }

    .bottomBar{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 30;
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      padding: 10px 10px calc(10px + var(--safe-bottom));
      background: rgba(11,18,32,.86);
      border-top: 1px solid var(--border);
      backdrop-filter: blur(14px);
    }

    .bottomItem{
      min-height: 58px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--text);
      text-decoration:none;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap: 4px;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      user-select:none;
    }
    .bottomItem:active{ transform: translateY(1px); }
    .bottomItemPrimary{
      background: linear-gradient(135deg, var(--auburn-orange), rgba(232,119,34,.72));
      border: none;
      color: #0a1020;
    }
    .bottomIcon{ font-size: 18px; line-height: 1; }
    .bottomLabel{ font-size: 11px; font-weight: 950; }

    .toast{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: calc(106px + var(--safe-bottom));
      z-index: 40;
      background: rgba(0,0,0,.75);
      color: #fff;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: var(--shadow2);
      max-width: calc(100% - 30px);
      text-align:center;
    }

    :focus-visible{
      outline: 3px solid rgba(232,119,34,.55);
      outline-offset: 2px;
    }
  </style>
</head>

<body>
  <!-- =========================
       EMBEDDED JSON CONFIG
       ========================= -->
  <script id="picdrop-config" type="application/json">
  {
    "productId": "Product1",
    "brand": "PicDrop",
    "title": "PicDrop ‚Ä¢ Product 1",
    "subtitle": "Tap Upload to share your photos/videos.",
    "uploadUrl": "https://www.dropbox.com/scl/fo/wgiod5sln38d0ym268nuh/ADoSJVQHy0EPQ1e_OM4V4Ks?rlkey=tfhfj89n5htlstruhwt8vhtb2&st=wu6qikxy&dl=0",
    "viewUrl": "https://www.dropbox.com/scl/fo/wgiod5sln38d0ym268nuh/ADoSJVQHy0EPQ1e_OM4V4Ks?rlkey=z26itm54dzsn3cin9ufgc2amd&st=wu6qikxy&dl=0",
    "notes": [
      "Tap Upload to add photos/videos from your phone.",
      "If you upload a video, Wi-Fi is best.",
      "Tap View if you want to see what‚Äôs already been uploaded."
    ]
  }
  </script>

  <main class="container">
    <header class="topbar">
      <div class="brand">
        <div class="mark" aria-hidden="true">P</div>
        <div class="titleBlock">
          <div id="hdrTitle" class="title">PicDrop</div>
          <div id="hdrSubtitle" class="subtitle">Tap Upload to share your photos/videos.</div>
        </div>
      </div>

      <div class="meta">
        <div id="productPill" class="pill pill--accent">Product1</div>
        <div class="pill" id="linkState">Links: ‚Äî</div>
      </div>
    </header>

    <section class="card hero">
      <h1 id="headline">Welcome üëã</h1>
      <p id="desc">Tap Upload to add your photos. Tap View to see the folder.</p>

      <div class="actions">
        <a id="uploadBtn" class="btn btnPrimary" href="#" target="_blank" rel="noopener">Upload</a>
        <a id="viewBtn" class="btn btnSecondary" href="#" target="_blank" rel="noopener">View</a>
        <button id="shareBtn" class="btn btnGhost" type="button">Share Page</button>
        <button id="copyBtn" class="btn btnGhost" type="button">Copy Page Link</button>
        <button id="copyUploadBtn" class="btn btnGhost" type="button">Copy Upload Link</button>
      </div>

      <hr class="sep"/>

      <div class="pill">Notes</div>
      <ul id="notes" class="notes"></ul>
    </section>

    <section class="grid">
      <section class="card">
        <div class="pill">Quick actions</div>
        <p class="statusLine" style="margin:10px 0 0;">
          ‚Ä¢ Upload link: <span id="uploadOk">‚Äî</span><br/>
          ‚Ä¢ View link: <span id="viewOk">‚Äî</span><br/>
          ‚Ä¢ This page: <code class="k" id="pageUrl">‚Äî</code>
        </p>
        <hr class="sep"/>
        <p class="statusLine" style="margin:0;">
          Tip: later we can replace the ‚ÄúUpload‚Äù link with a Dropbox <em>File Request</em> link if you want guests to upload without any Dropbox sign-in prompts.
        </p>
      </section>

      <section class="card">
        <div class="pill">Troubleshooting</div>
        <p class="statusLine" style="margin:10px 0 0;">
          If a button does nothing:<br/>
          ‚Ä¢ Make sure you opened this on <code class="k">github.io</code><br/>
          ‚Ä¢ Try a hard refresh (Ctrl+Shift+R)
        </p>
        <hr class="sep"/>
        <p class="statusLine" style="margin:0;">
          If Dropbox prompts sign-in, that‚Äôs normal for shared folders depending on settings. File Requests avoid that for uploads.
        </p>
      </section>
    </section>
  </main>

  <nav class="bottomBar" aria-label="Primary actions">
    <a id="bbUpload" class="bottomItem bottomItemPrimary" href="#" target="_blank" rel="noopener">
      <span class="bottomIcon" aria-hidden="true">‚§¥</span>
      <span class="bottomLabel">Upload</span>
    </a>
    <a id="bbView" class="bottomItem" href="#" target="_blank" rel="noopener">
      <span class="bottomIcon" aria-hidden="true">‚ñ∂</span>
      <span class="bottomLabel">View</span>
    </a>
    <button id="bbShare" class="bottomItem" type="button">
      <span class="bottomIcon" aria-hidden="true">‚á™</span>
      <span class="bottomLabel">Share</span>
    </button>
    <button id="bbCopy" class="bottomItem" type="button">
      <span class="bottomIcon" aria-hidden="true">‚ßâ</span>
      <span class="bottomLabel">Copy</span>
    </button>
    <button id="bbCopyUp" class="bottomItem" type="button">
      <span class="bottomIcon" aria-hidden="true">‚ßâ</span>
      <span class="bottomLabel">Copy Up</span>
    </button>
  </nav>

  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true" hidden></div>

  <!-- =========================
       SINGLE-FILE JS
       ========================= -->
  <script>
    const $ = (sel) => document.querySelector(sel);

    // Toast
    let toastTimer = null;
    function toast(msg, ms=1400){
      const el = $("#toast");
      if(!el) return;
      el.textContent = msg;
      el.hidden = false;
      if(toastTimer) clearTimeout(toastTimer);
      toastTimer = setTimeout(() => (el.hidden = true), ms);
    }
    function haptic(){ if(navigator.vibrate) navigator.vibrate(12); }

    function safeUrl(url){
      try { return new URL(url).toString(); }
      catch { return ""; }
    }
    function pageUrl(){ return window.location.href.split("?")[0]; }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        haptic();
        toast("Copied!");
        return true;
      }catch{
        toast("Copy failed ‚Äî use address bar");
        return false;
      }
    }

    async function shareLink(payload){
      try{
        if(navigator.share){
          await navigator.share(payload);
          haptic();
          return true;
        }
      }catch{}
      return false;
    }

    function readConfig(){
      const raw = $("#picdrop-config")?.textContent || "{}";
      try { return JSON.parse(raw); }
      catch { return {}; }
    }

    function setHref(el, href){
      const u = safeUrl(href);
      if(!u){
        el.setAttribute("href", "#");
        el.setAttribute("aria-disabled", "true");
        el.onclick = (e) => e.preventDefault();
      } else {
        el.removeAttribute("aria-disabled");
        el.setAttribute("href", u);
        el.onclick = null;
      }
      return !!u;
    }

    function init(){
      const cfg = readConfig();

      // Header
      $("#hdrTitle").textContent = cfg.brand || "PicDrop";
      $("#hdrSubtitle").textContent = cfg.subtitle || "Tap Upload to share your photos/videos.";
      $("#productPill").textContent = cfg.productId || "Product1";

      // Hero copy
      $("#headline").textContent = "Welcome üëã";
      $("#desc").textContent = "Tap Upload to add your photos/videos. Tap View to see the folder.";

      // Notes
      const notes = $("#notes");
      notes.innerHTML = "";
      (cfg.notes || []).forEach(t => {
        const li = document.createElement("li");
        li.textContent = t;
        notes.appendChild(li);
      });

      // Links
      const upOk = setHref($("#uploadBtn"), cfg.uploadUrl || "");
      const vwOk = setHref($("#viewBtn"), cfg.viewUrl || "");
      setHref($("#bbUpload"), cfg.uploadUrl || "");
      setHref($("#bbView"), cfg.viewUrl || "");

      $("#uploadOk").textContent = upOk ? "set" : "missing";
      $("#viewOk").textContent = vwOk ? "set" : "missing";

      const state = (upOk && vwOk) ? "Links: OK" : "Links: check";
      $("#linkState").textContent = state;

      // Page URL
      const pUrl = pageUrl();
      $("#pageUrl").textContent = pUrl;

      // Share/copy
      const sharePayload = {
        title: cfg.title || "PicDrop",
        text: "PicDrop link:",
        url: pUrl
      };

      $("#shareBtn").onclick = async () => {
        const ok = await shareLink(sharePayload);
        if(!ok){
          await copyText(sharePayload.url);
          toast("Share not supported ‚Äî link copied");
        }
      };
      $("#bbShare").onclick = $("#shareBtn").onclick;

      $("#copyBtn").onclick = () => copyText(sharePayload.url);
      $("#bbCopy").onclick = $("#copyBtn").onclick;

      const uploadUrl = safeUrl(cfg.uploadUrl || "");
      $("#copyUploadBtn").onclick = async () => {
        if(!uploadUrl){ toast("Upload link not set"); return; }
        await copyText(uploadUrl);
      };
      $("#bbCopyUp").onclick = $("#copyUploadBtn").onclick;
    }

    init();
  </script>
</body>
</html>
